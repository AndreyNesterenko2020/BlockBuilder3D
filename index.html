<!DOCTYPE html>

<script>
    ///////////////////////////////////
    //                               //
    //   Made by Andrey Nesterenko   //
    //    On 2021-11-16  1:43 pm     //
    //        BlockBuilder3D         //
    //                               //
    ///////////////////////////////////
</script>

<html>
    <head>
        <title>BlockBuilder3D version </title>
        <script src="js/three.js"></script>
        <script src="js/OrbitControls.js"></script>
        <script src="js/missing.js"></script>
    </head>
    <body>
        <script>
            var game = {
                version: "1.0.0",
                materials: {},
                blocks: {},
                UI: {},
                FOV: 60,
                range: 5,
            };
            game.scene = new THREE.Scene();
            game.textureLoader = new THREE.TextureLoader();
            game.raycaster = new THREE.Raycaster;
            game.camera = new THREE.PerspectiveCamera(game.FOV, window.innerWidth / window.innerHeight, 0.1, 1000);
            game.renderer = new THREE.WebGLRenderer();
            game.renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(game.renderer.domElement);
            game.geometry = new THREE.BoxGeometry();
            game.materials.defaultMaterial = new THREE.MeshLambertMaterial({map: game.textureLoader.load(missing)});
            game.scene.background = new THREE.Color(0xffffff);
            game.controls = new THREE.OrbitControls(game.camera, game.renderer.domElement)
            game.camera.position.z = 5;
            game.Sun = new THREE.DirectionalLight(0xffffff, 1, 1000);
            game.Sun.position.set(5,10,2);
            game.scene.add(game.Sun);
	        game.Sun.CastShadow	= true;
            game.renderer.shadowMap.enabled = true;
            game.AmbientLight = new THREE.AmbientLight(0x404040);
            game.scene.add(game.AmbientLight);
            game.render = function (){
                requestAnimationFrame(game.render)
                game.renderer.render(game.scene, game.camera);
                game.camera.fov = game.FOV;
                game.camera.updateProjectionMatrix();
            };
            game.init = function() {
                document.title = document.title + game.version;
                game.render();
                game.UI.init();
                game.block(0,0,0, "stone");
            };
            window.onload = function (){
                game.init();
            };
        </script>
        <script src="js/block.js"></script>
        <script src="js/UI.js"></script>
    </body>
</html>